#include <dt-bindings/gpio/gpio.h>
#include "1888tx018-pinfunc.h"

/dts-v1/;
/
	{
	compatible = "rcm,1888tx018";
	#address-cells = <1>;
	#size-cells = <1>;

    config {
           u-boot,spl-payload-offset = <0x40000>; 
    };

	chosen {
		stdout-path = "uart0";
		spd0-path = "spd0";
		spd1-path = "spd1";
	};

	aliases {
		spi0 = &spi0;
		mmc0 = &mmc0;
		uart0 = &uart0;
		spd0 = &spd0;
		spd1 = &spd1;
	};

	lsif0 {
	    u-boot,dm-pre-reloc;
	    compatible = "simple-bus";
		reg = <0x3C03F000 0x1000>;
		reg-names = "ctrlreg";

		#address-cells = <1>;
		#size-cells = <1>;

		mgpio0: mgpio0@0x3C040000 {
		    compatible = "rcm,pl061";
		    #address-cells = <1>;
		    #size-cells = <0>;
		    reg = <0x3C040000 0x1000>;
			pinctrl {
					compatible = "rcm,pl061-pinctrl";
					
					pinctrl_greth0_1_default: greth0_1_default {
						pinmux = 	<GBETH0_RX_DV>,
									<GBETH0_RX_ER>,
									<GBETH0_RX_COL>,
									<GBETH0_RX_CRS>,
									<GBETH0_RXD0>,
									<GBETH0_RXD1>,
									<GBETH0_RXD2>,
									<GBETH0_RXD3>;
					};
			};
		};

		mgpio1: mgpio1@0x3C041000 {
		    compatible = "rcm,pl061";
		    #address-cells = <1>;
		    #size-cells = <0>;
		    reg = <0x3C041000 0x1000>;
			pinctrl {
					compatible = "rcm,pl061-pinctrl";
					
					pinctrl_greth0_2_default: greth0_2_default {
						pinmux = 	<GBETH0_RXD4>,
									<GBETH0_RXD5>,
									<GBETH0_RXD6>,
									<GBETH0_RXD7>;
					};
			};
		};

		mgpio3: mgpio3@0x3C043000 {
			compatible = "rcm,pl061";
		    #address-cells = <1>;
		    #size-cells = <0>;
		    reg = <0x3C043000 0x1000>;
			pinctrl {
					compatible = "rcm,pl061-pinctrl";
					
					pinctrl_nand0_1_default: nand0_1_default {
						pinmux = 	<NAND_D0>,
									<NAND_D1>,
									<NAND_D2>,
									<NAND_D3>,
									<NAND_D4>,
									<NAND_D5>,
									<NAND_D6>,
									<NAND_D7>;
					};
			};
		};

		mgpio4: mgpio4@0x3C044000 {
		    compatible = "rcm,pl061";
		    #address-cells = <1>;
		    #size-cells = <0>;
		    reg = <0x3C044000 0x1000>;
			pinctrl {
					compatible = "rcm,pl061-pinctrl";
					
					pinctrl_greth0_3_default: greth0_3_default {
						pinmux = 	<GBETH0_TX_EN>,
									<GBETH0_TX_ER>,
									<GBETH0_TXD0>,
									<GBETH0_TXD1>;
					};

					pinctrl_nand0_2_default: nand0_2_default {
						pinmux =	<NAND_READY1N>,
									<NAND_READY2N>;
					};
			};
		};

		mgpio5: mgpio5@0x3C045000 {
		    compatible = "rcm,pl061";
		    #address-cells = <1>;
		    #size-cells = <0>;
		    reg = <0x3C045000 0x1000>;
			pinctrl {
					compatible = "rcm,pl061-pinctrl";
					
					pinctrl_greth0_4_default: greth0_4_default {
						pinmux = 	<GBETH0_TXD2>,
									<GBETH0_TXD3>,
									<GBETH0_TXD4>,
									<GBETH0_TXD5>,
									<GBETH0_TXD6>,
									<GBETH0_TXD7>,
									<GBETH0_MDC>,
									<GBETH0_MDIO>;
					};
			};
		};

		mgpio7: mgpio7@0x3C047000 {
		    compatible = "rcm,pl061";
		    #address-cells = <1>;
		    #size-cells = <0>;
			reg = <0x3C047000 0x1000>;
			pinctrl {
					compatible = "rcm,pl061-pinctrl";
					
					pinctrl_nand0_3_default: nand0_3_default {
						pinmux =	<NAND_REN>,
									<NAND_CLE>,
									<NAND_CE2N>,
									<NAND_CE1N>;
					};
			};
		};

		mgpio8: mgpio8@0x3C048000 {
		    compatible = "rcm,pl061";
		    #address-cells = <1>;
		    #size-cells = <0>;
			reg = <0x3C048000 0x1000>;
			pinctrl {
					compatible = "rcm,pl061-pinctrl";

					pinctrl_nand0_4_default: nand0_4_default {
						pinmux =	<NAND_ALE>,
									<NAND_WEN>,
									<NAND_WPN>;
					};
			};
		};

		greth1: greth0@0x3C034000 {
			compatible = "rcm,greth";
            reg = <0x3C034000 0x1000>;			
			mac-address = [ EC 17 66 77 05 80 ]; /* [ EC 17 66 77 05 00 ];*/
			//pinctrl-names = "default";
			//pinctrl-0 = <&pinctrl_greth0_1_default>, <&pinctrl_greth0_2_default>, <&pinctrl_greth0_3_default>, <&pinctrl_greth0_4_default>;
			status = "okay";
		};

		nand0: nand0@0x3C032000 {
			compatible = "rcm,nand";
			#address-cells = <1>;
			#size-cells = <1>;
			reg = <0x3C032000 0x1000>;
			ranges = <0x00000000 0x20000000 0x20000000>;
			clock-frequency = <100000000>;
			config-reg = <0x3C03F000 0x1000>;
			pinctrl-names = "default";
			pinctrl-0 = <&pinctrl_nand0_1_default>, <&pinctrl_nand0_2_default>, <&pinctrl_nand0_3_default>, <&pinctrl_nand0_4_default>;
			status = "okay";
			timings = < 200		/* tADL_min (ONFI_2_0_Gold.pdf,page 47)*/
						20		/* tALH_min */
						50		/* tALS_min */
						20		/* tCH_min */
						20		/* tCLH_min */
						50		/* tCLS_min */
						70		/* tCS_min */
						20		/* tDH_min */
						40		/* tDS_min */
						100		/* tWC_min */
						30		/* tWH_min */
						50		/* tWP_min */
						100		/* tWW_min */
						25		/* tAR_min */
						20		/* tCLR_min */
						0		/* tCOH_min */
						10		/* tIR_min */
						100		/* tRC_min */
						30		/* tREH_min */
						0		/* tRHOH_min */
						200		/* tRHW_min */
						0		/* tRLOH_min */
						50		/* tRP_min */
						40		/* tRR_min */
						120		/* tWHR_min */
						100		/* tCEA_max */
						100		/* tCHZ_max */
						40		/* tREA_max */
						200		/* tRHZ_max */
						200 >;  /* tWB_max */
			/*interrupt-parent = <&MPIC>;*/
			/*interrupts = <109 0>;*/
		};
	};

	lsif1 {
	    u-boot,dm-pre-reloc;
	    compatible = "simple-bus";
		reg = <0x3C060000 0x1000>;
		reg-names = "ctrlreg";
		#address-cells = <1>;
		#size-cells = <1>;

		mgpio2_1: mgpio2_1@0x3C069000 {
		    compatible = "rcm,pl061";
			u-boot,dm-pre-reloc;
		    #address-cells = <1>;
		    #size-cells = <0>;
		    reg = <0x3C069000 0x1000>;

			pinctrl {
					compatible = "rcm,pl061-pinctrl";
					pinctrl_uart0_default: uart0_default {
						u-boot,dm-pre-reloc;
						pinmux = 	<UART0_RXD>,
									<UART0_TXD>;
					};					
			};					
		};

		mgpio3_1: mgpio3_1@0x3C06A3000 {
		    compatible = "rcm,pl061";
		    #address-cells = <1>;
		    #size-cells = <0>;
		    reg = <0x3C06A000 0x1000>;
		    u-boot,dm-pre-reloc;
		
			pinctrl {
				    u-boot,dm-pre-reloc;
					compatible = "rcm,pl061-pinctrl";

					pinctrl_spi0_default: spi0_default {
						u-boot,dm-pre-reloc;
						pinmux = 	<SPI0_SCLK>,
									<SPI0_MOSI>,
									<SPI0_MISO>;
					};					

					pinctrl_uart1_default: uart1_default {
						pinmux = 	<UART1_RXD>,
									<UART1_TXD>;
					};

					pinctrl_uart2_default: uart2_default {
						pinmux = 	<UART2_RXD>,
									<UART2_TXD>;
					};										
								
			};

		};
		mgpio4_1: mgpio4_1@0x3C06B000 {
		    compatible = "rcm,pl061";
		    #address-cells = <1>;
		    #size-cells = <0>;
		    reg = <0x3C06B000 0x1000>;
			u-boot,dm-pre-reloc;
		
			pinctrl {
					compatible = "rcm,pl061-pinctrl";
					u-boot,dm-pre-reloc;
					pinctrl_spi1_default: spi1_default {
						u-boot,dm-pre-reloc;

						pinmux = 	<SPI1_SCLK>,
									<SPI1_MOSI>,
									<SPI1_MISO>;
					};		

					pinctrl_sdio_default: sdio_default {
						u-boot,dm-pre-reloc;
						pinmux = 	<SDIO_CMD>,
									<SDIO_D0>,
									<SDIO_D1>,
									<SDIO_D2>,
									<SDIO_D3>;
					};					
					
			};

		};

		i2c0: i2c@0x3C05A000 {
			compatible = "rcm,i2cmst";
		    #address-cells = <1>;
		    #size-cells = <0>;
			reg = <0x3C05A000 0x1000>;
			reg-shift = <2>;
			reg-io-width = <4>;
			clock-frequency = <100000000>;
			bus-clock = <100000>;
			u-boot,dm-pre-reloc;

			spd0: spd@50 {
				compatible = "i2c-eeprom";
				reg = <0x50>;
				u-boot,dm-pre-reloc;
			};
			spd1: spd@51 {
				compatible = "i2c-eeprom";
				reg = <0x51>;
				u-boot,dm-pre-reloc;
			};
		};

		gpio0: gpio0@0x3C065000 	{
		    compatible = "rcm,pl061";
		    #address-cells = <1>;
		    #size-cells = <0>;
		    reg = <0x3C065000 0x1000>;

			u-boot,dm-pre-reloc;
		};

		gpio1: gpio1@0x3C066000 	{
		    compatible = "rcm,pl061";
		    #address-cells = <1>;
		    #size-cells = <0>;
		    reg = <0x3C066000 0x1000>;
			#gpio-cells = <2>;
			gpio-controller;

			u-boot,dm-pre-reloc;
		};

	    spi0: spi0@0x3C061000 {
		    compatible = "rcm,pl022-spi";
			pinctrl-names = "default";
			pinctrl-0 = <&pinctrl_spi0_default>;
			
		    #address-cells = <1>;
		    #size-cells = <0>;
		    reg = <0x3C061000 0x1000>;
		    cs-gpios = <&gpio1 2 0>, <0>, <0>, <0>;
		    spi-max-frequency = <12500000>;			
		    u-boot,dm-pre-reloc;

		    spi_flash@0 {
			    compatible = "st,m25p32", "spi-flash";
			    reg = <0>;
			    u-boot,dm-pre-reloc;
								
		    };
	    };

		uart0: uart0@3C05D000 {  /* console */
                compatible = "arm,pl011", "arm,primecell";
                reg = <0x3C05D000 0x1000>;
                clock = <100000000>;
				pinctrl-names = "default";
				pinctrl-0 = <&pinctrl_uart0_default>;

 			    u-boot,dm-pre-reloc;
		};		

		uart1: uart1@3C05E000 { 
                compatible = "arm,pl011", "arm,primecell";
                reg = <0x3C05E000 0x1000>;
                clock = <100000000>;
				pinctrl-names = "default";
				pinctrl-0 = <&pinctrl_uart1_default>;
				status = "disabled";
		};		


		mmc0: mmc0@0x3C064000 {
			compatible = "rcm,mmc-0.2";
			reg = <0x3C064000 0x1000>;
			carddetect-gpio = <&gpio1 1 0>;
			/*u-boot,dm-pre-reloc;*/
			status = "okay";
			pinctrl-names = "default";
			pinctrl-0 = <&pinctrl_sdio_default>;
		};


        usb: musb@0x3C06D000 {
                compatible = "rcm,musb";
                reg = <0x3C06C000 0x1000>,
					  <0x3C06D000 0x1000>,
					  <0x38000008 0x4>;
                reg-names = "phy", "mc", "control";
        };

	    spi1: spi1@0x3C062000 {
		    compatible = "rcm,pl022-spi";
			pinctrl-names = "default";
			pinctrl-0 = <&pinctrl_spi1_default>;
			
		    #address-cells = <1>;
		    #size-cells = <1>;
		    reg = <0x3C062000 0x1000>;
		    cs-gpios = <&gpio1 4 0>;
		    spi-max-frequency = <400000>;
			u-boot,dm-pre-reloc;
			status = "disabled";
	    };	
	};
};
